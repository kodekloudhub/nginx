<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="" dir="ltr" lang="en-us">
  <head>
    <meta charset="utf-8" />
    <title>Transcript of renewing certificates using certbot</title>
    <meta name="author" content="Jeff Silverman" />
    <meta name="description" content="How I renewed all of the certificates on raspberry in less than 15 minutes" />
    <meta name="keywords" content="SSL/TLS certificate X.509 lets_encrypt lets encrypt certbot" />
    <meta name="generator" content="BlueGriffon wysiwyg editor" />
    <style>
<pre>A:link {
  color: red;
}

A:visited {
  color: maroon;
}

A:active {
  color: fuchsia;
}

H1.myclass {
  border-width: medium;
  border-style: solid;
  text-align: center;
}

H1, .h1 {
  font-size: 36pt;
  font-weight: bold;
  background-color: #ffdcdc;
  background-image: none;
  background-repeat: repeat;
  background-attachment: scroll;
  background-position: 0% 0%;
  margin-left: 18pt;
}

H2, .h2 {
  font-size: 30pt;
  font-weight: bold;
  background-color: #ffffcc;
  background-image: none;
  background-repeat: repeat;
  background-attachment: scroll;
  background-position: 0% 0%;
  margin-left: 36pt;
}

H3, .h3 {
  font-size: 24pt;
  font-weight: bold;
  background-color: #ccffcc;
  background-image: none;
  background-repeat: repeat;
  background-attachment: scroll;
  background-position: 0% 0%;
  margin-left: 54pt;
}

H4, .h4 {
  font-size: 20pt;
  font-weight: bold;
  background-color: #ccffff;
  background-image: none;
  background-repeat: repeat;
  background-attachment: scroll;
  background-position: 0% 0%;
  margin-left: 72pt;
}

H5, .h5 {
  font-size: 16pt;
  font-weight: bold;
  background-color: #ccccff;
  background-image: none;
  background-repeat: repeat;
  background-attachment: scroll;
  background-position: 0% 0%;
  margin-left: 72pt;
}

H6, .h6 {
  font-size: 14pt;
  font-weight: bold;
  background-color: #cccccc;
  background-image: none;
  background-repeat: repeat;
  background-attachment: scroll;
  background-position: 0% 0%;
  margin-left: 90pt;
}

P {
  background-image: none;
  background-repeat: repeat;
  background-attachment: scroll;
  background-position: 0% 0%;
}

.sat {
  background-color: #c0ffc0;
  background-image: none;
  background-repeat: repeat;
  background-attachment: scroll;
  background-position: 0% 0%;
}

.sun {
  background-color: #c0c0ff;
  background-image: none;
  background-repeat: repeat;
  background-attachment: scroll;
  background-position: 0% 0%;
}

.wkd {
  background-color: #e0e0e0;
  background-image: none;
  background-repeat: repeat;
  background-attachment: scroll;
  background-position: 0% 0%;
}

.hol {
  background-color: #ffffc0;
  background-image: none;
  background-repeat: repeat;
  background-attachment: scroll;
  background-position: 0% 0%;
}

.toc {
  background-color: #ffc0c0;
  background-image: none;
  background-repeat: repeat;
  background-attachment: scroll;
  background-position: 0% 0%;
}

code, kbd, var {
  white-space: pre;
  font-size: 10pt;
}

kbd, .kbd {
  text-decoration: underline;
  font-family: monospace;
  background-color: #eeeeff;
}

.code {
  font: 12px/12px monospace;
  background-image: repeating-linear-gradient(0deg,
      darkgray,
      darkgray 12px,
      lightgray 12px,
      lightgray 24px);
}      

ACRONYM, .acronym {
  text-decoration: underline;
  font-family: monospace;
  background-color: #eeeeff;
}

SAMP, .samp {
  font-family: monospace;
  background-color: Beige;
}

.var {
  font-style: italic;
  font-family: monospace;
}

pre {
  background-color: #fefefe;
  background-image: none;
  background-repeat: repeat;
  background-attachment: scroll;
  background-position: 0% 0%;
}

.appointments {
  color: red;
  background-color: #f0f0f0;
  background-image: none;
  background-repeat: repeat;
  background-attachment: scroll;
  background-position: 0% 0%;
}

.diary {
  color: green;
  background-color: violet;
  font-family: Trajan, Helvetica, sans-serif;
}

.financial {
  color: white;
  background-color: #00cc00;
  background-image: none;
  background-repeat: repeat;
  background-attachment: scroll;
  background-position: 0% 0%;
}

.important {
  background-color: lime;
  background-image: none;
  background-repeat: repeat;
  background-attachment: scroll;
  background-position: 0% 0%;
}

.tbd {
  color: white;
  background-color: red;
  background-image: none;
  background-repeat: repeat;
  background-attachment: scroll;
  background-position: 0% 0%;
}

.inferred {
  color: blue;
  background-color: yellow;
  background-image: none;
  background-repeat: repeat;
  background-attachment: scroll;
  background-position: 0% 0%;
}

OL {
  list-style-type: decimal;
}

OL OL {
  list-style-type: upper-alpha;
}

OL OL OL {
  list-style-type: decimal;
}

OL OL OL OL {
  list-style-type: lower-alpha;
}

OL OL OL OL OL {
  list-style-type: decimal;
}

.hotthought {
  border-width: medium;
  border-style: solid;
  color: red;
}

.thought {
  color: red;
}

blockquote {
  border-left-color: blue;
  border-left-style: groove;
  padding: 20px;
}

pre, tt, code {
  font-family: monaco, "dejavu sans mono", "luxi mono", monospace;
  font-size: 10pt;
}

pre.programlisting {
  border-width: 2px 4px 4px 1px;
  border-style: solid solid groove dashed;
  border-color: #666666;
  background-color: #fbfbff;
  padding: 5px;
}

</pre>
    
    
    </style>
  </head>
  <body>
    <h1>The transcript of my renewing the SSL/TLS X.509 certificates on my
      server, Raspberry.</h1>
    <pre>root@raspberrypi:~# <kbd>date</kbd>
<samp>Wed  8 May 00:18:54 PDT 2024</samp>
root@raspberrypi:~# 
root@raspberrypi:~# <kbd>certbot certificates --nginx</kbd>
<samp>Saving debug log to /var/log/letsencrypt/letsencrypt.log
<font color="#C01C28">Renewal configuration file /etc/letsencrypt/renewal/jeffsilverm.ddns.net-0001.conf produced an unexpected error: target /etc/letsencrypt/archive/jeffsilverm.ddns.net-0001/cert9.pem of symlink /etc/letsencrypt/live/jeffsilverm.ddns.net-0001/cert.pem does not exist. Skipping.</font>
<font color="#C01C28">Renewal configuration file /etc/letsencrypt/renewal/jeffsilverm.ddns.net.conf produced an unexpected error: target /etc/letsencrypt/archive/jeffsilverm.ddns.net/cert6.pem of symlink /etc/letsencrypt/live/jeffsilverm.ddns.net/cert.pem does not exist. Skipping.</font>
<font color="#C01C28">Renewal configuration file /etc/letsencrypt/renewal/jeffsilverman-aaaa.ddns.net-0001.conf produced an unexpected error: target /etc/letsencrypt/archive/jeffsilverman-aaaa.ddns.net-0001/cert9.pem of symlink /etc/letsencrypt/live/jeffsilverman-aaaa.ddns.net-0001/cert.pem does not exist. Skipping.</font>
<font color="#C01C28">Renewal configuration file /etc/letsencrypt/renewal/jeffsilverman-aaaa.ddns.net.conf produced an unexpected error: target /etc/letsencrypt/archive/jeffsilverm.ddns.net/cert6.pem of symlink /etc/letsencrypt/live/jeffsilverman-aaaa.ddns.net/cert.pem does not exist. Skipping.</font>
<font color="#C01C28">Renewal configuration file /etc/letsencrypt/renewal/jeffsilverman.ddns.net-0002.conf produced an unexpected error: target /etc/letsencrypt/archive/jeffsilverman.ddns.net-0002/cert9.pem of symlink /etc/letsencrypt/live/jeffsilverman.ddns.net-0002/cert.pem does not exist. Skipping.</font>
<font color="#C01C28">Renewal configuration file /etc/letsencrypt/renewal/jeffsilverman.ddns.net.conf produced an unexpected error: target /etc/letsencrypt/archive/jeffsilverm.ddns.net/cert6.pem of symlink /etc/letsencrypt/live/jeffsilverman.ddns.net/cert.pem does not exist. Skipping.</font>

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Found the following certs:
  Certificate Name: jeffsilverm.ddns.net-0002
    Serial Number: 46f5ac359a8159bc5eaca2661715efc2f63
    Key Type: ECDSA
    Domains: jeffsilverm.ddns.net jeffsilverman-aaaa.ddns.net jeffsilverman.ddns.net
    Expiry Date: 2024-05-15 05:49:49+00:00 (VALID: 6 days)
    Certificate Path: /etc/letsencrypt/live/jeffsilverm.ddns.net-0002/fullchain.pem
    Private Key Path: /etc/letsencrypt/live/jeffsilverm.ddns.net-0002/privkey.pem
  Certificate Name: jeffsilverman-aaaa.ddns.net-0002
    Serial Number: 43e0f9f5b76b139c42c1fbdc0d5d31652c4
    Key Type: ECDSA
    Domains: jeffsilverman.ddns.net jeffsilverman-aaaa.ddns.net
    Expiry Date: 2024-05-15 06:00:55+00:00 (VALID: 6 days)
    Certificate Path: /etc/letsencrypt/live/jeffsilverman-aaaa.ddns.net-0002/fullchain.pem
    Private Key Path: /etc/letsencrypt/live/jeffsilverman-aaaa.ddns.net-0002/privkey.pem
  Certificate Name: jeffsilverman.ddns.net-0001
    Serial Number: 33d637fc6d7bc9ba9ed367b0b3062407f9e
    Key Type: RSA
    Domains: jeffsilverman.ddns.net
    Expiry Date: 2024-04-10 22:31:44+00:00 (INVALID: EXPIRED)
    Certificate Path: /etc/letsencrypt/live/jeffsilverman.ddns.net-0001/fullchain.pem
    Private Key Path: /etc/letsencrypt/live/jeffsilverman.ddns.net-0001/privkey.pem

The following renewal configurations were invalid:
  /etc/letsencrypt/renewal/jeffsilverm.ddns.net-0001.conf
  /etc/letsencrypt/renewal/jeffsilverm.ddns.net.conf
  /etc/letsencrypt/renewal/jeffsilverman-aaaa.ddns.net-0001.conf
  /etc/letsencrypt/renewal/jeffsilverman-aaaa.ddns.net.conf
  /etc/letsencrypt/renewal/jeffsilverman.ddns.net-0002.conf
  /etc/letsencrypt/renewal/jeffsilverman.ddns.net.conf
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
<font color="#C01C28">0 renew failure(s), 6 parse failure(s)</font>
Ask for help or search for solutions at https://community.letsencrypt.org. See the logfile /var/log/letsencrypt/letsencrypt.log or re-run Certbot with -v for more details.</samp>
    root@raspberrypi:~# <kbd>tar -czf invalid_cert_configurations_20240508.tar.gz /etc/letsencrypt/renewal/jeffsilverm.ddns.net-0001.conf /etc/letsencrypt/renewal/jeffsilverm.ddns.net.conf /etc/letsencrypt/renewal/jeffsilverman-aaaa.ddns.net-0001.conf /etc/letsencrypt/renewal/jeffsilverman-aaaa.ddns.net.conf /etc/letsencrypt/renewal/jeffsilverman.ddns.net-0002.conf /etc/letsencrypt/renewal/jeffsilverman.ddns.net.conf</kbd> 
<samp>tar: Removing leading `/' from member names
tar: Removing leading `/' from hard link targets</samp>
root@raspberrypi:~# <kbd>rm /etc/letsencrypt/renewal/jeffsilverm.ddns.net-0001.conf /etc/letsencrypt/renewal/jeffsilverm.ddns.net.conf /etc/letsencrypt/renewal/jeffsilverman-aaaa.ddns.net-0001.conf /etc/letsencrypt/renewal/jeffsilverman-aaaa.ddns.net.conf /etc/letsencrypt/renewal/jeffsilverman.ddns.net-0002.conf /etc/letsencrypt/renewal/jeffsilverman.ddns.net.conf</kbd> 
root@raspberrypi:~# #
root@raspberrypi:~# # Let's try the dry run again, should generate **no** errors
root@raspberrypi:~# <kbd>certbot renew --nginx --dry-run</kbd>
<samp>Saving debug log to /var/log/letsencrypt/letsencrypt.log

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Processing /etc/letsencrypt/renewal/jeffsilverm.ddns.net-0002.conf
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Simulating renewal of an existing certificate for jeffsilverm.ddns.net and 2 more domains

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Processing /etc/letsencrypt/renewal/jeffsilverman-aaaa.ddns.net-0002.conf
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Simulating renewal of an existing certificate for jeffsilverman.ddns.net and jeffsilverman-aaaa.ddns.net

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Processing /etc/letsencrypt/renewal/jeffsilverman.ddns.net-0001.conf
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Simulating renewal of an existing certificate for jeffsilverman.ddns.net

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Congratulations, all simulated renewals succeeded: 
  /etc/letsencrypt/live/jeffsilverm.ddns.net-0002/fullchain.pem (success)
  /etc/letsencrypt/live/jeffsilverman-aaaa.ddns.net-0002/fullchain.pem (success)
  /etc/letsencrypt/live/jeffsilverman.ddns.net-0001/fullchain.pem (success)
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</samp>
root@raspberrypi:~# #####  Successfully going to renew the certificates ######
root@raspberrypi:~# <kbd>certbot renew --nginx</kbd>
<samp>Saving debug log to /var/log/letsencrypt/letsencrypt.log

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Processing /etc/letsencrypt/renewal/jeffsilverm.ddns.net-0002.conf
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Renewing an existing certificate for jeffsilverm.ddns.net and 2 more domains
Reloading nginx server after certificate renewal

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Processing /etc/letsencrypt/renewal/jeffsilverman-aaaa.ddns.net-0002.conf
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Renewing an existing certificate for jeffsilverman.ddns.net and jeffsilverman-aaaa.ddns.net
Reloading nginx server after certificate renewal

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Processing /etc/letsencrypt/renewal/jeffsilverman.ddns.net-0001.conf
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Renewing an existing certificate for jeffsilverman.ddns.net
Reloading nginx server after certificate renewal

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Congratulations, all renewals succeeded: 
  /etc/letsencrypt/live/jeffsilverm.ddns.net-0002/fullchain.pem (success)
  /etc/letsencrypt/live/jeffsilverman-aaaa.ddns.net-0002/fullchain.pem (success)
  /etc/letsencrypt/live/jeffsilverman.ddns.net-0001/fullchain.pem (success)
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</samp>
root@raspberrypi:~# <kbd>date</kbd>
<samp>Wed  8 May 00:28:02 PDT 2024</samp>
root@raspberrypi:~# ##### Successfully renewed all 3 certificates ##########
root@raspberrypi:~# <kbd>certbot certificates --nginx</kbd>
<samp>Saving debug log to /var/log/letsencrypt/letsencrypt.log

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Found the following certs:
  Certificate Name: jeffsilverm.ddns.net-0002
    Serial Number: 44417ebbc49e7a97dd825d225eb5f60f29c
    Key Type: ECDSA
    Domains: jeffsilverm.ddns.net jeffsilverman-aaaa.ddns.net jeffsilverman.ddns.net
    Expiry Date: 2024-08-06 06:27:39+00:00 (VALID: 89 days)
    Certificate Path: /etc/letsencrypt/live/jeffsilverm.ddns.net-0002/fullchain.pem
    Private Key Path: /etc/letsencrypt/live/jeffsilverm.ddns.net-0002/privkey.pem
  Certificate Name: jeffsilverman-aaaa.ddns.net-0002
    Serial Number: 4dc35bc7c1a34d2abff485af677cdf7c936
    Key Type: ECDSA
    Domains: jeffsilverman.ddns.net jeffsilverman-aaaa.ddns.net
    Expiry Date: 2024-08-06 06:27:43+00:00 (VALID: 89 days)
    Certificate Path: /etc/letsencrypt/live/jeffsilverman-aaaa.ddns.net-0002/fullchain.pem
    Private Key Path: /etc/letsencrypt/live/jeffsilverman-aaaa.ddns.net-0002/privkey.pem
  Certificate Name: jeffsilverman.ddns.net-0001
    Serial Number: 3f312c8161f261755f1b95a9edbefb047a9
    Key Type: RSA
    Domains: jeffsilverman.ddns.net
    Expiry Date: 2024-08-06 06:27:48+00:00 (VALID: 89 days)
    Certificate Path: /etc/letsencrypt/live/jeffsilverman.ddns.net-0001/fullchain.pem
    Private Key Path: /etc/letsencrypt/live/jeffsilverman.ddns.net-0001/privkey.pem
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</samp>
root@raspberrypi:~# 
root@raspberrypi:~# 
</pre>
    <p></p>
    <p><br />
    </p>
    <p><br />
    </p>
  </body>
</html>
